{"version":3,"sources":["components/Menuitem.js","components/Menu.js","components/infowindow.js","FacebookAPI.js","components/Map.js","components/MenuButton.js","App.js","registerServiceWorker.js","index.js"],"names":["MenuItem","_React$createElement","_this","this","place","props","react_default","a","createElement","className","tabIndex","role","Object","defineProperty","isActive","e","onActiveTab","window","google","maps","event","trigger","marker","shortName","Component","Menu","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","code","state","activeItem","setActiveTab","activeItemCode","setState","bind","assertThisInitialized","_this2","_this$props","map","infoWindow","type","aria-label","placeholder","value","query","onChange","updateQuery","target","filteredLocations","Menuitem","key","createContent","data","placeSection","concat","title","name","postcode","town","address","phones","phone","join","available","hours","av","console","log","age","meals","vacancies","separator","hasData","link","dataSection","dataDescription","description","length","dataRating","overall_star_rating","rating_count","dataLikes","engagement","count","dataCover","cover","source","clientID","clientSecret","getData","accessToken","url","encodeURI","coordinates","lat","long","fetch","then","response","json","result","getAppToken","arguments","undefined","headers","Accept","res","access_token","loadError","alert","Map","places","forEach","toLowerCase","indexOf","setVisible","addMarker","loading","Marker","position","lng","text","animation","Animation","DROP","openInfoWindow","addListener","setAnimation","BOUNCE","setTimeout","panTo","getPosition","loadedData","fbdata","find","obj","setContent","iw","setOptions","maxWidth","FbAPI","fbData","stateDataCopy","push","open","initMap","onloadFunction","newScript","document","onerror","onload","head","appendChild","src","loadJS","_this$state","bounds","LatLngBounds","p","extend","fitBounds","_this3","getElementById","center","zoom","InfoWindow","content","match","RegExp","escapeRegExp","filter","test","Fragment","components_Menu","openCloseMenu","id","style","width","height","MenuButton","onClick","App","sidebar","body","querySelector","classList","add","remove","getToken","facebookToken","components_MenuButton","components_Map","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","render","src_App_0","URL","process","origin","addEventListener","status","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.24896da9.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass MenuItem extends Component {\n    render(){\n        const {place} = this.props;\n\n        return(\n            <li className=\"item\"\n                tabIndex=\"2\"\n                role=\"button\"\n                className={this.props.isActive ? 'item active': 'item'}\n                onClick={(e) => {\n                    this.props.onActiveTab();\n                    new window.google.maps.event.trigger( place.marker, 'click' );\n                }}>\n                <i className=\"fas fa-hotel\"></i>\n                <div className=\"item-title\">{place.shortName}</div>\n                <b className=\"caret\"></b>\n            </li>\n        )\n    }\n}\n\nexport default MenuItem;","import React, { Component } from 'react';\nimport MenuItem from './Menuitem'\n\nclass Menu extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeItem: null,\n        };\n        this.setActiveTab = this.setActiveTab.bind(this)\n    }\n\n    isActive = (code) => this.state.activeItem === code\n\n    setActiveTab = (activeItemCode) => {\n        this.setState({ activeItem: activeItemCode });\n    }\n\n    render() {\n        const {map,infoWindow} = this.props;\n        return(\n        <div className=\"side-menu\">\n            <div className=\"searchbox\">\n                <input type=\"text\" className=\"search\" tabIndex=\"1\" aria-label=\"Search\" role=\"textbox\" placeholder=\"Filter Locations...\"\n                value={this.props.query}\n                onChange={(event) => this.props.updateQuery(event.target.value)}\n                />\n                <i className=\"fas fa-search\"></i>\n            </div>\n            <ul className=\"places\">\n            {this.props.filteredLocations.map((place) => (\n                <MenuItem\n                    key={place.code}\n                    map={map}\n                    place={place}\n                    isActive={this.isActive(place.code)}\n                    onActiveTab={() => this.setActiveTab(place.code)}\n                    />\n                ))}\n            </ul>\n        </div>\n        )\n}\n\n}\n\nexport default Menu;","\r\nexport const createContent = (marker, place, data) => {\r\n\tconst placeSection =\r\n\t`<div class=\"infoWindow\" tabIndex=\"3\">\r\n\t\t<div name=${marker.title}>\r\n\t\t\t<h3>${place.name}</h3>\r\n\t\t\t<div class=\"info_db\">\r\n\t\t\t\t<div class=\"column\">\r\n\t\t\t\t\t<div class=\"place_address\">\r\n\t\t\t\t\t\t<i class=\"fas fa-location-arrow\"></i>\r\n\t\t\t\t\t\t<span>${place.postcode} ${place.town} ${place.address}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"place_contacts\">\r\n\t\t\t\t\t\t<i class=\"fas fa-phone\"></i>\r\n\t\t\t\t\t\t${place.phones.map(phone => {\r\n\t\t\t\t\t\t\treturn '<span><a href=\"tel:' + phone + '\\\">' + phone + '</a></span>';\r\n\t\t\t\t\t\t}).join(\", \")}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"place_hours\">\r\n\t\t\t\t\t\t<i class=\"far fa-clock\"></i>\r\n\t\t\t\t\t\t<span>${place.available[0].hours}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"column\">\r\n\t\t\t\t\t<div class=\"place_type\">\r\n\t\t\t\t\t${place.type.map(type => {\r\n\t\t\t\t\t\treturn `<div class=\"place_type_label\">${type}</div>`;\r\n\t\t\t\t\t}).join(\" \")}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"place_available\">\r\n\t\t\t\t\t${place.available.map(av => {\r\n\t\t\t\t\t\tconsole.log('av => ',av);\r\n\t\t\t\t\t\treturn `<div class=\"place_available_item\">\r\n\t\t\t\t\t\t\t<div class=\"place_age\">${av.age}</div>\r\n\t\t\t\t\t\t\t${place.meals ?\r\n\t\t\t\t\t\t\t'<div class=\"place_meals\">' +\r\n\t\t\t\t\t\t\t\t'<div class=\"tooltip\">' +\r\n\t\t\t\t\t\t\t\t\t'<i class=\"fas fa-utensils meals_true\"></i>' +\r\n\t\t\t\t\t\t\t\t\t'<span class=\"tooltiptext\">Meals provided</span>' +\r\n\t\t\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t\t'</div>' :\r\n\t\t\t\t\t\t\t'<div class=\"place_meals\">' +\r\n\t\t\t\t\t\t\t\t'<div class=\"tooltip\">' +\r\n\t\t\t\t\t\t\t\t\t'<i class=\"fas fa-utensils meals_false\"></i>' +\r\n\t\t\t\t\t\t\t\t\t'<span class=\"tooltiptext\">No meals</span>' +\r\n\t\t\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t\t'</div>'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<div class=\"place_availability\">\r\n\t\t\t\t\t\t\t\t<div class=\"tooltip\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-user-alt\"></i>\r\n\t\t\t\t\t\t\t\t\t<span class=\"Place_availability__number\">${av.vacancies}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"tooltiptext\">${av.vacancies} places available</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>`\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`\r\n\r\n\tconst separator = data.hasData ?\r\n\t\t`<div class=\"separator\"><span>Information from <a href=\"${data.link}\">Facebook Page</a></span></div>` :\r\n\t\t`<div class=\"separator\">This place has no Facebook Page yet</div>`;\r\n\r\n\t//Facebook data section elements - check if data exists\r\n\tlet dataSection = \"\";\r\n\tif (data.hasData) {\r\n\t\tconst dataDescription = data.description && data.description.length > 0 ?\r\n\t\t\t`<div class=\"fb_description\">${data.description}</div>` : '';\r\n\r\n\t\tconst dataRating = data.overall_star_rating && data.rating_count ?\r\n\t\t\t`<div class=\"fb_rating\">\r\n\t\t\t\t<i class=\"fas fa-star-half-alt\"></i>\r\n\t\t\t\t<span class=\"fb_rating__number\">${data.overall_star_rating}/5</span>\r\n\t\t\t\t<p>based on ${data.rating_count} reviews</p>\r\n\t\t\t</div>` : '';\r\n\r\n\t\tconst dataLikes = data.engagement.count ?\r\n\t\t\t`<div class=\"fb_likes\">\r\n\t\t\t\t<i class=\"far fa-thumbs-up\"></i>\r\n\t\t\t\t<span class=\"fb_likes__number\">${data.engagement.count}</span>\r\n\t\t\t\t<p>people like this</p>\r\n\t\t\t</div>` : '';\r\n\r\n\t\tconst dataCover = data.cover ?\r\n\t\t\t`<div class=\"fb_cover\">\r\n\t\t\t\t<img class=\"fb_cover__image\" src=\"${data.cover.source}\" alt=\"${place.name}\">\r\n\t\t\t</div>` : '';\r\n\r\n\t\tdataSection = `<div class=\"info_fb\">\r\n\t\t\t${dataDescription}\r\n\t\t\t${dataRating}\r\n\t\t\t${dataLikes}\r\n\t\t</div>\r\n\t\t${dataCover}`\r\n\t}\r\n\treturn `${placeSection}${separator}${dataSection}`;\r\n}","//Code modified from https://github.com/FlaneurApp/flaneur-social-location/blob/master/services/facebook.js\n\n/**\n * Retrieves an App Token for the Facebook API\n * It can be used for Facebook App configuration or especially retrieving a test user token\n*/\n\nconst fbHost = 'https://graph.facebook.com/'\nconst fbAPIVersion = 'v3.1'\nconst getAppTokenURL = '/oauth/access_token'\n// const getTestUserURL = '/accounts/test-users'\n\nconst clientID=326938021180775;\nconst clientSecret=\"a55eff19ad762bcdb45f64f2e50ee879\";\n\nfunction getAppToken(appID=clientID, appSecret=clientSecret) {\n  const url = `https://graph.facebook.com/oauth/access_token?client_id=${clientID}&client_secret=${clientSecret}&grant_type=client_credentials`;\n\nconst headers = {\n  'Accept': 'application/json'\n}\n\n  fetch(url, {headers})\n  .then(res => res.json())\n    .then(data => {\n      console.log(data);\n      return data.access_token\n    })\n    // .then((response) => {\n    //  console.log(response.json());\n    //  // const parsedResponse = JSON.parse(response)\n  //  //    return parsedResponse.access_token\n  //      });\n\n  }\n\nexport const getData = (accessToken, place) => {\n\nconst url = encodeURI(`${fbHost}/${fbAPIVersion}/search?type=place&q=${place.shortName}&center=${place.coordinates.lat},${place.coordinates.long}&distance=500&fields=name,overall_star_rating,rating_count,engagement,cover,link,description&access_token=${accessToken}`);\nconsole.log('url => ',url);\n  return fetch(url)\n        .then((response) => response.json())\n        .then((result) => {\n          const data = result.data[0];\n          console.log('data => ',data);\n            // handle Errors and empty data\n            if (data) {\n                return {\n                code: place.code,\n                hasData: true,\n        name: data.name,\n        description: data.description,\n        overall_star_rating: data.overall_star_rating,\n        rating_count: data.rating_count,\n        engagement: data.engagement,\n        cover: data.cover,\n        link: data.link\n                }\n            //If no data, return object indicating that data is not available\n            } else {\n              return {\n                code: place.code,\n                hasData: false\n              }\n            }\n        })\n        }\n\nexport default getAppToken;","import React, {Component} from 'react';\nimport Menu from './Menu';\nimport escapeRegExp from 'escape-string-regexp';\n// import sortBy from 'sort-by'\nimport places from '../espa.json';\nimport * as iw from './infowindow';\nimport * as FbAPI from '../FacebookAPI';\n\nclass Map extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            map: {loading: true},\n            infoWindow: {},\n            query: '',\n            fbdata: [],\n            places: places,\n        };\n        this.initMap = this.initMap.bind(this);\n        this.addMarker = this.addMarker.bind(this);\n    }\n    componentDidMount() {\n        window.initMap = this.initMap;\n\n        loadJS(\n            'https://maps.googleapis.com/maps/api/js?key=AIzaSyAj8PNN-j_DmA5HBTEl_Hwj-seBJratpaA&callback=initMap',\n        );\n    }\n    componentDidUpdate() {\n        //add bounds\n        const {places, map} = this.state;\n        if (!map.loading) {\n            let bounds = new window.google.maps.LatLngBounds();\n            places.forEach(p => {\n                if (p.marker) {\n                    bounds.extend(p.marker.position);\n                    map.fitBounds(bounds);\n                }\n            });\n        }\n    }\n\n    initMap() {\n        const map = new window.google.maps.Map(document.getElementById('map'), {\n            center: {lat: 37.971816, lng: 23.725774},\n            zoom: 14,\n        });\n\n        //Default content - spinner, displayed while loading data\n        const infoWindow = new window.google.maps.InfoWindow({\n            content:\n                '<i class=\"fas fa-spinner fa-spin\" style=\"color: darkgrey;\"></i>',\n        });\n\n        this.setState({map, infoWindow});\n        this.state.places.forEach(place => {\n            this.addMarker(this.state.map, place);\n        });\n    }\n\n    updateQuery = query => {\n        this.setState({query: query});\n        const {places} = this.state;\n        //filter places/markers\n        places.forEach(place => {\n            if (\n                place.marker.title.toLowerCase().indexOf(query.toLowerCase()) >=\n                0\n            ) {\n                place.marker.setVisible(true);\n            } else {\n                place.marker.setVisible(false);\n            }\n        });\n\n        this.setState({places: places});\n    };\n\n    addMarker = (map, place) => {\n        let {places} = this.state;\n        //add marker\n        if (!map.loading) {\n            const marker = new window.google.maps.Marker({\n                position: {\n                    lat: place.coordinates.lat,\n                    lng: place.coordinates.long,\n                },\n                map,\n                text: place.type,\n                title: place.name,\n                animation: window.google.maps.Animation.DROP,\n            });\n            this.openInfoWindow(map, marker, place);\n            //animation marker bounce on mouseover\n            marker.addListener('mouseover', function() {\n                this.setAnimation(window.google.maps.Animation.BOUNCE);\n                setTimeout(() => this.setAnimation(null), 400);\n            });\n            place.marker = marker;\n            this.setState({places: places});\n        }\n    };\n\n    openInfoWindow = (map, marker, place) => {\n        //open infoWindow content on marker click\n        marker.addListener('click', e => {\n            this.state.map.panTo(marker.getPosition());\n            let loadedData = this.state.fbdata.find(\n                obj => obj.code === place.code,\n            );\n            let fbData;\n            if (loadedData !== undefined) {\n                this.state.infoWindow.setContent(\n                    iw.createContent(marker, place, loadedData),\n                );\n                this.state.infoWindow.setOptions({maxWidth: 450});\n            } else {\n                FbAPI.getData(\n                    '1451607965076725|jFLo4cg3vJDaEV8Xns-Jgcc0VfU',\n                    place,\n                ).then(fbData => {\n                    let stateDataCopy = this.state.fbdata;\n                    stateDataCopy.push(fbData);\n                    this.setState({fbdata: stateDataCopy});\n                    this.state.infoWindow.setContent(\n                        iw.createContent(marker, place, fbData),\n                    );\n                    this.state.infoWindow.setOptions({maxWidth: 400});\n                });\n            }\n\n            // this.state.infoWindow.setContent(Infowindow().toString())\n            this.state.infoWindow.open(map, marker);\n        });\n    };\n\n    render() {\n        const {query} = this.state;\n        //get the filter query to filter the listitems\n        let filteredLocations;\n        if (query) {\n            const match = new RegExp(escapeRegExp(query), 'i');\n            filteredLocations = places.filter(place =>\n                match.test(place.marker.title),\n            );\n        } else {\n            filteredLocations = places;\n        }\n        const style = {\n            width: '100vw',\n            height: '100vh',\n        };\n        return (\n            <React.Fragment>\n                <nav>\n                    <Menu\n                        openInfoWindow={this.openInfoWindow}\n                        updateQuery={this.updateQuery}\n                        query={this.state.query}\n                        map={this.state.map}\n                        filteredLocations={filteredLocations}\n                        place={this.state.places}\n                        fbdata={this.state.fbdata}\n                        infoWindow={this.state.infoWindow}\n                        openCloseMenu={this.props.openCloseMenu}\n                    />\n                </nav>\n                <main>\n                    <div className=\"map-container\">\n                        <div className=\"container\" role=\"main\">\n                            <div className=\"map-container\">\n                                <div\n                                    id=\"map\"\n                                    style={style}\n                                    role=\"application\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </main>\n            </React.Fragment>\n        );\n    }\n}\n\nfunction loadError() {\n    alert('Could not load JavaScript file for Maps API');\n}\n\nfunction loadJS(url, onloadFunction) {\n    var newScript = document.createElement('script');\n    newScript.onerror = loadError;\n    if (onloadFunction) {\n        newScript.onload = onloadFunction;\n    }\n    document.head.appendChild(newScript);\n    newScript.src = url;\n}\n\nexport default Map;","import React, { Component } from 'react';\r\n\r\nclass MenuButton extends Component {\r\n    render() {\r\n        return(\r\n            <button type=\"button\" className=\"navbar-toggler tooltip\" aria-label=\"Open\" onClick={this.props.openCloseMenu}>\r\n                <span className=\"navbar-toggler-bar bar1\"></span>\r\n                <span className=\"navbar-toggler-bar bar2\"></span>\r\n                <span className=\"navbar-toggler-bar bar3\"></span>\r\n                <span className=\"tooltiptext position\">Expand Side Panel</span>\r\n              </button>\r\n        )\r\n\t}\r\n}\r\n\r\nexport default MenuButton;","import React, {Component} from 'react';\nimport './App.css';\nimport Map from './components/Map';\nimport facebookToken from './FacebookAPI';\nimport MenuButton from './components/MenuButton';\n\nclass App extends Component {\n  state = {\n    sidebar: 'closed',\n  };\n\n  openCloseMenu = () => {\n    //Open and close sidebar function\n    let body = document.querySelector('body');\n    if (this.state.sidebar === 'closed') {\n      body.classList.add('sidebar-open');\n      this.setState({sidebar: 'open'});\n    } else {\n      body.classList.remove('sidebar-open');\n      this.setState({sidebar: 'closed'});\n    }\n  };\n\n  getToken = () => {\n    return facebookToken();\n  };\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"header\">\n          <MenuButton openCloseMenu={this.openCloseMenu} />\n          <div className=\"header_text\">\n            <h1>Kindergarten Finder</h1>\n            <p className=\"header_subtitle\">\n              Search for a kindergarten, which accepts <b>ESPA voucher</b> in\n              your neighbourhood\n            </p>\n          </div>\n        </header>\n        <Map google={this.props.google} openCloseMenu={this.openCloseMenu} />\n      </div>\n    );\n  }\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}